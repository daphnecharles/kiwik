{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar codemirror_1 = __importDefault(require(\"codemirror\"));\n\nvar graphql_language_service_interface_1 = require(\"graphql-language-service-interface\");\n\nvar SEVERITY = ['error', 'warning', 'information', 'hint'];\nvar TYPE = {\n  'GraphQL: Validation': 'validation',\n  'GraphQL: Deprecation': 'deprecation',\n  'GraphQL: Syntax': 'syntax'\n};\ncodemirror_1.default.registerHelper('lint', 'graphql', function (text, options) {\n  var schema = options.schema;\n  var rawResults = graphql_language_service_interface_1.getDiagnostics(text, schema, options.validationRules, undefined, options.externalFragments);\n  var results = rawResults.map(function (error) {\n    return {\n      message: error.message,\n      severity: error.severity ? SEVERITY[error.severity - 1] : SEVERITY[0],\n      type: error.source ? TYPE[error.source] : undefined,\n      from: codemirror_1.default.Pos(error.range.start.line, error.range.start.character),\n      to: codemirror_1.default.Pos(error.range.end.line, error.range.end.character)\n    };\n  });\n  return results;\n});","map":{"version":3,"sources":["src/lint.ts"],"names":[],"mappings":";;;;;;;;;;;;AASA,IAAA,YAAA,GAAA,eAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;AAEA,IAAA,oCAAA,GAAA,OAAA,CAAA,oCAAA,CAAA;;AAEA,IAAM,QAAQ,GAAG,CAAC,OAAD,EAAU,SAAV,EAAqB,aAArB,EAAoC,MAApC,CAAjB;AACA,IAAM,IAAI,GAA2B;AACnC,yBAAuB,YADY;AAEnC,0BAAwB,aAFW;AAGnC,qBAAmB;AAHgB,CAArC;AA0BA,YAAA,CAAA,OAAA,CAAW,cAAX,CACE,MADF,EAEE,SAFF,EAGE,UAAC,IAAD,EAAe,OAAf,EAA0C;AACxC,MAAM,MAAM,GAAG,OAAO,CAAC,MAAvB;AACA,MAAM,UAAU,GAAG,oCAAA,CAAA,cAAA,CACjB,IADiB,EAEjB,MAFiB,EAGjB,OAAO,CAAC,eAHS,EAIjB,SAJiB,EAKjB,OAAO,CAAC,iBALS,CAAnB;AAQA,MAAM,OAAO,GAAG,UAAU,CAAC,GAAX,CAAe,UAAA,KAAA,EAAK;AAAI,WAAC;AACvC,MAAA,OAAO,EAAE,KAAK,CAAC,OADwB;AAEvC,MAAA,QAAQ,EAAE,KAAK,CAAC,QAAN,GAAiB,QAAQ,CAAC,KAAK,CAAC,QAAN,GAAiB,CAAlB,CAAzB,GAAgD,QAAQ,CAAC,CAAD,CAF3B;AAGvC,MAAA,IAAI,EAAE,KAAK,CAAC,MAAN,GAAe,IAAI,CAAC,KAAK,CAAC,MAAP,CAAnB,GAAoC,SAHH;AAIvC,MAAA,IAAI,EAAE,YAAA,CAAA,OAAA,CAAW,GAAX,CAAe,KAAK,CAAC,KAAN,CAAY,KAAZ,CAAkB,IAAjC,EAAuC,KAAK,CAAC,KAAN,CAAY,KAAZ,CAAkB,SAAzD,CAJiC;AAKvC,MAAA,EAAE,EAAE,YAAA,CAAA,OAAA,CAAW,GAAX,CAAe,KAAK,CAAC,KAAN,CAAY,GAAZ,CAAgB,IAA/B,EAAqC,KAAK,CAAC,KAAN,CAAY,GAAZ,CAAgB,SAArD;AALmC,KAAD;AAMtC,GANc,CAAhB;AAQA,SAAO,OAAP;AACD,CAtBH","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar codemirror_1 = __importDefault(require(\"codemirror\"));\nvar graphql_language_service_interface_1 = require(\"graphql-language-service-interface\");\nvar SEVERITY = ['error', 'warning', 'information', 'hint'];\nvar TYPE = {\n    'GraphQL: Validation': 'validation',\n    'GraphQL: Deprecation': 'deprecation',\n    'GraphQL: Syntax': 'syntax',\n};\ncodemirror_1.default.registerHelper('lint', 'graphql', function (text, options) {\n    var schema = options.schema;\n    var rawResults = graphql_language_service_interface_1.getDiagnostics(text, schema, options.validationRules, undefined, options.externalFragments);\n    var results = rawResults.map(function (error) { return ({\n        message: error.message,\n        severity: error.severity ? SEVERITY[error.severity - 1] : SEVERITY[0],\n        type: error.source ? TYPE[error.source] : undefined,\n        from: codemirror_1.default.Pos(error.range.start.line, error.range.start.character),\n        to: codemirror_1.default.Pos(error.range.end.line, error.range.end.character),\n    }); });\n    return results;\n});\n//# sourceMappingURL=lint.js.map"]},"metadata":{},"sourceType":"script"}