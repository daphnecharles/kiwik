{"ast":null,"code":"function isQuotaError(storage, e) {\n  return e instanceof DOMException && (e.code === 22 || e.code === 1014 || e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') && storage.length !== 0;\n}\n\nvar StorageAPI = function () {\n  function StorageAPI(storage) {\n    this.storage = storage || (typeof window !== 'undefined' ? window.localStorage : null);\n  }\n\n  StorageAPI.prototype.get = function (name) {\n    if (this.storage) {\n      var value = this.storage.getItem('graphiql:' + name);\n\n      if (value === 'null' || value === 'undefined') {\n        this.storage.removeItem('graphiql:' + name);\n        return null;\n      }\n\n      if (value) {\n        return value;\n      }\n    }\n\n    return null;\n  };\n\n  StorageAPI.prototype.set = function (name, value) {\n    var quotaError = false;\n    var error = null;\n\n    if (this.storage) {\n      var key = \"graphiql:\" + name;\n\n      if (value) {\n        try {\n          this.storage.setItem(key, value);\n        } catch (e) {\n          error = e;\n          quotaError = isQuotaError(this.storage, e);\n        }\n      } else {\n        this.storage.removeItem(key);\n      }\n    }\n\n    return {\n      isQuotaError: quotaError,\n      error: error\n    };\n  };\n\n  return StorageAPI;\n}();\n\nexport default StorageAPI;","map":{"version":3,"sources":["../../src/utility/StorageAPI.ts"],"names":[],"mappings":"AAcA,SAAS,YAAT,CAAsB,OAAtB,EAAwC,CAAxC,EAAgD;AAC9C,SACE,CAAC,YAAY,YAAb,KAEC,CAAC,CAAC,IAAF,KAAW,EAAX,IAEC,CAAC,CAAC,IAAF,KAAW,IAFZ,IAKC,CAAC,CAAC,IAAF,KAAW,oBALZ,IAOC,CAAC,CAAC,IAAF,KAAW,4BATb,KAWA,OAAO,CAAC,MAAR,KAAmB,CAZrB;AAcD;;AAED,IAAA,UAAA,GAAA,YAAA;AAGE,WAAA,UAAA,CAAY,OAAZ,EAA6B;AAC3B,SAAK,OAAL,GACE,OAAO,KAAK,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAM,CAAC,YAAvC,GAAsD,IAA3D,CADT;AAED;;AAED,EAAA,UAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,IAAJ,EAAgB;AACd,QAAI,KAAK,OAAT,EAAkB;AAChB,UAAM,KAAK,GAAG,KAAK,OAAL,CAAa,OAAb,CAAqB,cAAc,IAAnC,CAAd;;AAEA,UAAI,KAAK,KAAK,MAAV,IAAoB,KAAK,KAAK,WAAlC,EAA+C;AAC7C,aAAK,OAAL,CAAa,UAAb,CAAwB,cAAc,IAAtC;AACA,eAAO,IAAP;AACD;;AAED,UAAI,KAAJ,EAAW;AACT,eAAO,KAAP;AACD;AACF;;AACD,WAAO,IAAP;AACD,GAdD;;AAgBA,EAAA,UAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,IAAJ,EAAkB,KAAlB,EAA+B;AAC7B,QAAI,UAAU,GAAG,KAAjB;AACA,QAAI,KAAK,GAAG,IAAZ;;AAEA,QAAI,KAAK,OAAT,EAAkB;AAChB,UAAM,GAAG,GAAG,cAAY,IAAxB;;AACA,UAAI,KAAJ,EAAW;AACT,YAAI;AACF,eAAK,OAAL,CAAa,OAAb,CAAqB,GAArB,EAA0B,KAA1B;AACD,SAFD,CAEE,OAAO,CAAP,EAAU;AACV,UAAA,KAAK,GAAG,CAAR;AACA,UAAA,UAAU,GAAG,YAAY,CAAC,KAAK,OAAN,EAAe,CAAf,CAAzB;AACD;AACF,OAPD,MAOO;AAEL,aAAK,OAAL,CAAa,UAAb,CAAwB,GAAxB;AACD;AACF;;AAED,WAAO;AACL,MAAA,YAAY,EAAE,UADT;AAEL,MAAA,KAAK,EAAA;AAFA,KAAP;AAID,GAvBD;;AAwBF,SAAA,UAAA;AAAC,CAhDD,EAAA","sourceRoot":"","sourcesContent":["function isQuotaError(storage, e) {\n    return (e instanceof DOMException &&\n        (e.code === 22 ||\n            e.code === 1014 ||\n            e.name === 'QuotaExceededError' ||\n            e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n        storage.length !== 0);\n}\nvar StorageAPI = (function () {\n    function StorageAPI(storage) {\n        this.storage =\n            storage || (typeof window !== 'undefined' ? window.localStorage : null);\n    }\n    StorageAPI.prototype.get = function (name) {\n        if (this.storage) {\n            var value = this.storage.getItem('graphiql:' + name);\n            if (value === 'null' || value === 'undefined') {\n                this.storage.removeItem('graphiql:' + name);\n                return null;\n            }\n            if (value) {\n                return value;\n            }\n        }\n        return null;\n    };\n    StorageAPI.prototype.set = function (name, value) {\n        var quotaError = false;\n        var error = null;\n        if (this.storage) {\n            var key = \"graphiql:\" + name;\n            if (value) {\n                try {\n                    this.storage.setItem(key, value);\n                }\n                catch (e) {\n                    error = e;\n                    quotaError = isQuotaError(this.storage, e);\n                }\n            }\n            else {\n                this.storage.removeItem(key);\n            }\n        }\n        return {\n            isQuotaError: quotaError,\n            error: error,\n        };\n    };\n    return StorageAPI;\n}());\nexport default StorageAPI;\n//# sourceMappingURL=StorageAPI.js.map"]},"metadata":{},"sourceType":"module"}