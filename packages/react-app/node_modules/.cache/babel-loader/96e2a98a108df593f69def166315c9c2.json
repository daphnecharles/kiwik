{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar configure = require('../lib/configure.js');\n\nvar resolve = require('../lib/resolve.js');\n\nvar first = require('it-first');\n\nvar last = require('it-last');\n\nvar errCode = require('err-code');\n\nvar get = require('../block/get.js');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar first__default = /*#__PURE__*/_interopDefaultLegacy(first);\n\nvar last__default = /*#__PURE__*/_interopDefaultLegacy(last);\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\n\nvar createGet = function createGet(codecs, options) {\n  var fn = configure.configure(function (api, opts) {\n    var getBlock = get.createGet(opts);\n\n    var get$1 = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(cid) {\n        var options,\n            entry,\n            result,\n            codec,\n            block,\n            node,\n            _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n                if (!options.path) {\n                  _context.next = 16;\n                  break;\n                }\n\n                if (!options.localResolve) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 5;\n                return first__default[\"default\"](resolve.resolve(cid, options.path, codecs, getBlock, options));\n\n              case 5:\n                _context.t0 = _context.sent;\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.next = 10;\n                return last__default[\"default\"](resolve.resolve(cid, options.path, codecs, getBlock, options));\n\n              case 10:\n                _context.t0 = _context.sent;\n\n              case 11:\n                entry = _context.t0;\n                result = entry;\n\n                if (result) {\n                  _context.next = 15;\n                  break;\n                }\n\n                throw errCode__default[\"default\"](new Error('Not found'), 'ERR_NOT_FOUND');\n\n              case 15:\n                return _context.abrupt(\"return\", result);\n\n              case 16:\n                _context.next = 18;\n                return codecs.getCodec(cid.code);\n\n              case 18:\n                codec = _context.sent;\n                _context.next = 21;\n                return getBlock(cid, options);\n\n              case 21:\n                block = _context.sent;\n                node = codec.decode(block);\n                return _context.abrupt(\"return\", {\n                  value: node,\n                  remainderPath: ''\n                });\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function get$1(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return get$1;\n  });\n  return fn(options);\n};\n\nexports.createGet = createGet;","map":{"version":3,"sources":["/Users/sam/Desktop/kiwik/node_modules/ipfs-http-client/cjs/src/dag/get.js"],"names":["Object","defineProperty","exports","value","configure","require","resolve","first","last","errCode","get","_interopDefaultLegacy","e","first__default","last__default","errCode__default","createGet","codecs","options","fn","api","opts","getBlock","get$1","cid","path","localResolve","entry","result","Error","getCodec","code","codec","block","node","decode","remainderPath"],"mappings":"AAAA;;;;;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,SAAS,GAAGC,OAAO,CAAC,qBAAD,CAAvB;;AACA,IAAIC,OAAO,GAAGD,OAAO,CAAC,mBAAD,CAArB;;AACA,IAAIE,KAAK,GAAGF,OAAO,CAAC,UAAD,CAAnB;;AACA,IAAIG,IAAI,GAAGH,OAAO,CAAC,SAAD,CAAlB;;AACA,IAAII,OAAO,GAAGJ,OAAO,CAAC,UAAD,CAArB;;AACA,IAAIK,GAAG,GAAGL,OAAO,CAAC,iBAAD,CAAjB;;AAEA,SAASM,qBAAT,CAAgCC,CAAhC,EAAmC;AAAE,SAAOA,CAAC,IAAI,OAAOA,CAAP,KAAa,QAAlB,IAA8B,aAAaA,CAA3C,GAA+CA,CAA/C,GAAmD;AAAE,eAAWA;AAAb,GAA1D;AAA6E;;AAElH,IAAIC,cAAc,GAAG,aAAaF,qBAAqB,CAACJ,KAAD,CAAvD;;AACA,IAAIO,aAAa,GAAG,aAAaH,qBAAqB,CAACH,IAAD,CAAtD;;AACA,IAAIO,gBAAgB,GAAG,aAAaJ,qBAAqB,CAACF,OAAD,CAAzD;;AAEA,IAAMO,SAAS,GAAG,SAAZA,SAAY,CAACC,MAAD,EAASC,OAAT,EAAqB;AACrC,MAAMC,EAAE,GAAGf,SAAS,CAACA,SAAV,CAAoB,UAACgB,GAAD,EAAMC,IAAN,EAAe;AAC5C,QAAMC,QAAQ,GAAGZ,GAAG,CAACM,SAAJ,CAAcK,IAAd,CAAjB;;AACA,QAAME,KAAK;AAAA,0EAAG,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAYN,gBAAAA,OAAZ,2DAAsB,EAAtB;;AAAA,qBACRA,OAAO,CAACO,IADA;AAAA;AAAA;AAAA;;AAAA,qBAEIP,OAAO,CAACQ,YAFZ;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEiCb,cAAc,CAAC,SAAD,CAAd,CAA0BP,OAAO,CAACA,OAAR,CAAgBkB,GAAhB,EAAqBN,OAAO,CAACO,IAA7B,EAAmCR,MAAnC,EAA2CK,QAA3C,EAAqDJ,OAArD,CAA1B,CAFjC;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAEkIJ,aAAa,CAAC,SAAD,CAAb,CAAyBR,OAAO,CAACA,OAAR,CAAgBkB,GAAhB,EAAqBN,OAAO,CAACO,IAA7B,EAAmCR,MAAnC,EAA2CK,QAA3C,EAAqDJ,OAArD,CAAzB,CAFlI;;AAAA;AAAA;;AAAA;AAEJS,gBAAAA,KAFI;AAGJC,gBAAAA,MAHI,GAGKD,KAHL;;AAAA,oBAILC,MAJK;AAAA;AAAA;AAAA;;AAAA,sBAKFb,gBAAgB,CAAC,SAAD,CAAhB,CAA4B,IAAIc,KAAJ,CAAU,WAAV,CAA5B,EAAoD,eAApD,CALE;;AAAA;AAAA,iDAOHD,MAPG;;AAAA;AAAA;AAAA,uBASQX,MAAM,CAACa,QAAP,CAAgBN,GAAG,CAACO,IAApB,CATR;;AAAA;AASNC,gBAAAA,KATM;AAAA;AAAA,uBAUQV,QAAQ,CAACE,GAAD,EAAMN,OAAN,CAVhB;;AAAA;AAUNe,gBAAAA,KAVM;AAWNC,gBAAAA,IAXM,GAWCF,KAAK,CAACG,MAAN,CAAaF,KAAb,CAXD;AAAA,iDAYL;AACL9B,kBAAAA,KAAK,EAAE+B,IADF;AAELE,kBAAAA,aAAa,EAAE;AAFV,iBAZK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA,sBAALb,KAAK;AAAA;AAAA;AAAA,OAAX;;AAiBA,WAAOA,KAAP;AACD,GApBU,CAAX;AAqBA,SAAOJ,EAAE,CAACD,OAAD,CAAT;AACD,CAvBD;;AAyBAhB,OAAO,CAACc,SAAR,GAAoBA,SAApB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar configure = require('../lib/configure.js');\nvar resolve = require('../lib/resolve.js');\nvar first = require('it-first');\nvar last = require('it-last');\nvar errCode = require('err-code');\nvar get = require('../block/get.js');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar first__default = /*#__PURE__*/_interopDefaultLegacy(first);\nvar last__default = /*#__PURE__*/_interopDefaultLegacy(last);\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\n\nconst createGet = (codecs, options) => {\n  const fn = configure.configure((api, opts) => {\n    const getBlock = get.createGet(opts);\n    const get$1 = async (cid, options = {}) => {\n      if (options.path) {\n        const entry = options.localResolve ? await first__default[\"default\"](resolve.resolve(cid, options.path, codecs, getBlock, options)) : await last__default[\"default\"](resolve.resolve(cid, options.path, codecs, getBlock, options));\n        const result = entry;\n        if (!result) {\n          throw errCode__default[\"default\"](new Error('Not found'), 'ERR_NOT_FOUND');\n        }\n        return result;\n      }\n      const codec = await codecs.getCodec(cid.code);\n      const block = await getBlock(cid, options);\n      const node = codec.decode(block);\n      return {\n        value: node,\n        remainderPath: ''\n      };\n    };\n    return get$1;\n  });\n  return fn(options);\n};\n\nexports.createGet = createGet;\n"]},"metadata":{},"sourceType":"script"}