{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport commonKeys from '../utility/commonKeys';\n\nvar ResultViewer = function (_super) {\n  __extends(ResultViewer, _super);\n\n  function ResultViewer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.viewer = null;\n    _this._node = null;\n    return _this;\n  }\n\n  ResultViewer.prototype.componentDidMount = function () {\n    var CodeMirror = require('codemirror');\n\n    require('codemirror/addon/fold/foldgutter');\n\n    require('codemirror/addon/fold/brace-fold');\n\n    require('codemirror/addon/dialog/dialog');\n\n    require('codemirror/addon/search/search');\n\n    require('codemirror/addon/search/searchcursor');\n\n    require('codemirror/addon/search/jump-to-line');\n\n    require('codemirror/keymap/sublime');\n\n    require('codemirror-graphql/results/mode');\n\n    var Tooltip = this.props.ResultsTooltip;\n    var ImagePreview = this.props.ImagePreview;\n\n    if (Tooltip || ImagePreview) {\n      require('codemirror-graphql/utils/info-addon');\n\n      var tooltipDiv_1 = document.createElement('div');\n      CodeMirror.registerHelper('info', 'graphql-results', function (token, _options, _cm, pos) {\n        var infoElements = [];\n\n        if (Tooltip) {\n          infoElements.push(React.createElement(Tooltip, {\n            pos: pos\n          }));\n        }\n\n        if (ImagePreview && typeof ImagePreview.shouldRender === 'function' && ImagePreview.shouldRender(token)) {\n          infoElements.push(React.createElement(ImagePreview, {\n            token: token\n          }));\n        }\n\n        if (!infoElements.length) {\n          ReactDOM.unmountComponentAtNode(tooltipDiv_1);\n          return null;\n        }\n\n        ReactDOM.render(React.createElement(\"div\", null, infoElements), tooltipDiv_1);\n        return tooltipDiv_1;\n      });\n    }\n\n    this.viewer = CodeMirror(this._node, {\n      lineWrapping: true,\n      value: this.props.value || '',\n      readOnly: true,\n      theme: this.props.editorTheme || 'graphiql',\n      mode: 'graphql-results',\n      keyMap: 'sublime',\n      foldGutter: {\n        minFoldSize: 4\n      },\n      gutters: ['CodeMirror-foldgutter'],\n      info: Boolean(this.props.ResultsTooltip || this.props.ImagePreview),\n      extraKeys: commonKeys\n    });\n  };\n\n  ResultViewer.prototype.shouldComponentUpdate = function (nextProps) {\n    return this.props.value !== nextProps.value;\n  };\n\n  ResultViewer.prototype.componentDidUpdate = function () {\n    if (this.viewer) {\n      this.viewer.setValue(this.props.value || '');\n    }\n  };\n\n  ResultViewer.prototype.componentWillUnmount = function () {\n    this.viewer = null;\n  };\n\n  ResultViewer.prototype.render = function () {\n    var _this = this;\n\n    return React.createElement(\"section\", {\n      className: \"result-window\",\n      \"aria-label\": \"Result Window\",\n      \"aria-live\": \"polite\",\n      \"aria-atomic\": \"true\",\n      ref: function ref(node) {\n        if (node) {\n          _this.props.registerRef(node);\n\n          _this._node = node;\n        }\n      }\n    });\n  };\n\n  ResultViewer.prototype.getCodeMirror = function () {\n    return this.viewer;\n  };\n\n  ResultViewer.prototype.getClientHeight = function () {\n    return this._node && this._node.clientHeight;\n  };\n\n  return ResultViewer;\n}(React.Component);\n\nexport { ResultViewer };","map":{"version":3,"sources":["../../src/components/ResultViewer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport commonKeys from '../utility/commonKeys';\nvar ResultViewer = (function (_super) {\n    __extends(ResultViewer, _super);\n    function ResultViewer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.viewer = null;\n        _this._node = null;\n        return _this;\n    }\n    ResultViewer.prototype.componentDidMount = function () {\n        var CodeMirror = require('codemirror');\n        require('codemirror/addon/fold/foldgutter');\n        require('codemirror/addon/fold/brace-fold');\n        require('codemirror/addon/dialog/dialog');\n        require('codemirror/addon/search/search');\n        require('codemirror/addon/search/searchcursor');\n        require('codemirror/addon/search/jump-to-line');\n        require('codemirror/keymap/sublime');\n        require('codemirror-graphql/results/mode');\n        var Tooltip = this.props.ResultsTooltip;\n        var ImagePreview = this.props.ImagePreview;\n        if (Tooltip || ImagePreview) {\n            require('codemirror-graphql/utils/info-addon');\n            var tooltipDiv_1 = document.createElement('div');\n            CodeMirror.registerHelper('info', 'graphql-results', function (token, _options, _cm, pos) {\n                var infoElements = [];\n                if (Tooltip) {\n                    infoElements.push(React.createElement(Tooltip, { pos: pos }));\n                }\n                if (ImagePreview &&\n                    typeof ImagePreview.shouldRender === 'function' &&\n                    ImagePreview.shouldRender(token)) {\n                    infoElements.push(React.createElement(ImagePreview, { token: token }));\n                }\n                if (!infoElements.length) {\n                    ReactDOM.unmountComponentAtNode(tooltipDiv_1);\n                    return null;\n                }\n                ReactDOM.render(React.createElement(\"div\", null, infoElements), tooltipDiv_1);\n                return tooltipDiv_1;\n            });\n        }\n        this.viewer = CodeMirror(this._node, {\n            lineWrapping: true,\n            value: this.props.value || '',\n            readOnly: true,\n            theme: this.props.editorTheme || 'graphiql',\n            mode: 'graphql-results',\n            keyMap: 'sublime',\n            foldGutter: {\n                minFoldSize: 4,\n            },\n            gutters: ['CodeMirror-foldgutter'],\n            info: Boolean(this.props.ResultsTooltip || this.props.ImagePreview),\n            extraKeys: commonKeys,\n        });\n    };\n    ResultViewer.prototype.shouldComponentUpdate = function (nextProps) {\n        return this.props.value !== nextProps.value;\n    };\n    ResultViewer.prototype.componentDidUpdate = function () {\n        if (this.viewer) {\n            this.viewer.setValue(this.props.value || '');\n        }\n    };\n    ResultViewer.prototype.componentWillUnmount = function () {\n        this.viewer = null;\n    };\n    ResultViewer.prototype.render = function () {\n        var _this = this;\n        return (React.createElement(\"section\", { className: \"result-window\", \"aria-label\": \"Result Window\", \"aria-live\": \"polite\", \"aria-atomic\": \"true\", ref: function (node) {\n                if (node) {\n                    _this.props.registerRef(node);\n                    _this._node = node;\n                }\n            } }));\n    };\n    ResultViewer.prototype.getCodeMirror = function () {\n        return this.viewer;\n    };\n    ResultViewer.prototype.getClientHeight = function () {\n        return this._node && this._node.clientHeight;\n    };\n    return ResultViewer;\n}(React.Component));\nexport { ResultViewer };\n//# sourceMappingURL=ResultViewer.js.map"]},"metadata":{},"sourceType":"module"}