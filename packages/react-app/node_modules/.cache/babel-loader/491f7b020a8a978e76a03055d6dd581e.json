{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = awaitify; // conditionally promisify a function.\n// only return a promise if a callback is omitted\n\nfunction awaitify(asyncFn) {\n  var arity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : asyncFn.length;\n  if (!arity) throw new Error('arity is undefined');\n\n  function awaitable() {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (typeof args[arity - 1] === 'function') {\n      return asyncFn.apply(this, args);\n    }\n\n    return new Promise(function (resolve, reject) {\n      args[arity - 1] = function (err) {\n        if (err) return reject(err);\n\n        for (var _len2 = arguments.length, cbArgs = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          cbArgs[_key2 - 1] = arguments[_key2];\n        }\n\n        resolve(cbArgs.length > 1 ? cbArgs : cbArgs[0]);\n      };\n\n      asyncFn.apply(_this, args);\n    });\n  }\n\n  return awaitable;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/sam/Desktop/kiwik/node_modules/authereum/node_modules/async/internal/awaitify.js"],"names":["Object","defineProperty","exports","value","default","awaitify","asyncFn","arity","length","Error","awaitable","args","apply","Promise","resolve","reject","err","cbArgs","module"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,QAAlB,C,CACA;AACA;;AACA,SAASA,QAAT,CAAkBC,OAAlB,EAAmD;AAAA,MAAxBC,KAAwB,uEAAhBD,OAAO,CAACE,MAAQ;AAC/C,MAAI,CAACD,KAAL,EAAY,MAAM,IAAIE,KAAJ,CAAU,oBAAV,CAAN;;AACZ,WAASC,SAAT,GAA4B;AAAA;;AAAA,sCAANC,IAAM;AAANA,MAAAA,IAAM;AAAA;;AACxB,QAAI,OAAOA,IAAI,CAACJ,KAAK,GAAG,CAAT,CAAX,KAA2B,UAA/B,EAA2C;AACvC,aAAOD,OAAO,CAACM,KAAR,CAAc,IAAd,EAAoBD,IAApB,CAAP;AACH;;AAED,WAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCJ,MAAAA,IAAI,CAACJ,KAAK,GAAG,CAAT,CAAJ,GAAkB,UAACS,GAAD,EAAoB;AAClC,YAAIA,GAAJ,EAAS,OAAOD,MAAM,CAACC,GAAD,CAAb;;AADyB,2CAAXC,MAAW;AAAXA,UAAAA,MAAW;AAAA;;AAElCH,QAAAA,OAAO,CAACG,MAAM,CAACT,MAAP,GAAgB,CAAhB,GAAoBS,MAApB,GAA6BA,MAAM,CAAC,CAAD,CAApC,CAAP;AACH,OAHD;;AAIAX,MAAAA,OAAO,CAACM,KAAR,CAAc,KAAd,EAAoBD,IAApB;AACH,KANM,CAAP;AAOH;;AAED,SAAOD,SAAP;AACH;;AACDQ,MAAM,CAAChB,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = awaitify;\n// conditionally promisify a function.\n// only return a promise if a callback is omitted\nfunction awaitify(asyncFn, arity = asyncFn.length) {\n    if (!arity) throw new Error('arity is undefined');\n    function awaitable(...args) {\n        if (typeof args[arity - 1] === 'function') {\n            return asyncFn.apply(this, args);\n        }\n\n        return new Promise((resolve, reject) => {\n            args[arity - 1] = (err, ...cbArgs) => {\n                if (err) return reject(err);\n                resolve(cbArgs.length > 1 ? cbArgs : cbArgs[0]);\n            };\n            asyncFn.apply(this, args);\n        });\n    }\n\n    return awaitable;\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}