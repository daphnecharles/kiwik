{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _awaitAsyncGenerator = require(\"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/awaitAsyncGenerator\");\n\nvar _wrapAsyncGenerator = require(\"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/wrapAsyncGenerator\");\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar cid = require('multiformats/cid');\n\nvar errCode = require('err-code');\n\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\n\nfunction resolve(_x, _x2, _x3, _x4, _x5) {\n  return _resolve.apply(this, arguments);\n}\n\nfunction _resolve() {\n  _resolve = _wrapAsyncGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(cid$1, path, codecs, getBlock, options) {\n    var load, parts, value, lastCid, key, _cid$;\n\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            load = /*#__PURE__*/function () {\n              var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(cid) {\n                var codec, block;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return codecs.getCodec(cid.code);\n\n                      case 2:\n                        codec = _context.sent;\n                        _context.next = 5;\n                        return getBlock(cid, options);\n\n                      case 5:\n                        block = _context.sent;\n                        return _context.abrupt(\"return\", codec.decode(block));\n\n                      case 7:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function load(_x6) {\n                return _ref.apply(this, arguments);\n              };\n            }();\n\n            parts = path.split('/').filter(Boolean);\n            _context2.next = 4;\n            return _awaitAsyncGenerator(load(cid$1));\n\n          case 4:\n            value = _context2.sent;\n            lastCid = cid$1;\n\n          case 6:\n            if (!parts.length) {\n              _context2.next = 25;\n              break;\n            }\n\n            key = parts.shift();\n\n            if (key) {\n              _context2.next = 10;\n              break;\n            }\n\n            throw errCode__default[\"default\"](new Error(\"Could not resolve path \\\"\".concat(path, \"\\\"\")), 'ERR_INVALID_PATH');\n\n          case 10:\n            if (!Object.prototype.hasOwnProperty.call(value, key)) {\n              _context2.next = 16;\n              break;\n            }\n\n            value = value[key];\n            _context2.next = 14;\n            return {\n              value: value,\n              remainderPath: parts.join('/')\n            };\n\n          case 14:\n            _context2.next = 17;\n            break;\n\n          case 16:\n            throw errCode__default[\"default\"](new Error(\"no link named \\\"\".concat(key, \"\\\" under \").concat(lastCid)), 'ERR_NO_LINK');\n\n          case 17:\n            _cid$ = cid.CID.asCID(value);\n\n            if (!_cid$) {\n              _context2.next = 23;\n              break;\n            }\n\n            lastCid = _cid$;\n            _context2.next = 22;\n            return _awaitAsyncGenerator(load(value));\n\n          case 22:\n            value = _context2.sent;\n\n          case 23:\n            _context2.next = 6;\n            break;\n\n          case 25:\n            _context2.next = 27;\n            return {\n              value: value,\n              remainderPath: ''\n            };\n\n          case 27:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _resolve.apply(this, arguments);\n}\n\nexports.resolve = resolve;","map":{"version":3,"sources":["/Users/sam/Desktop/kiwik/node_modules/ipfs-http-client/cjs/src/lib/resolve.js"],"names":["Object","defineProperty","exports","value","cid","require","errCode","_interopDefaultLegacy","e","errCode__default","resolve","cid$1","path","codecs","getBlock","options","load","getCodec","code","codec","block","decode","parts","split","filter","Boolean","lastCid","length","key","shift","Error","prototype","hasOwnProperty","call","remainderPath","join","CID","asCID"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar cid = require('multiformats/cid');\nvar errCode = require('err-code');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar errCode__default = /*#__PURE__*/_interopDefaultLegacy(errCode);\n\nasync function* resolve(cid$1, path, codecs, getBlock, options) {\n  const load = async cid => {\n    const codec = await codecs.getCodec(cid.code);\n    const block = await getBlock(cid, options);\n    return codec.decode(block);\n  };\n  const parts = path.split('/').filter(Boolean);\n  let value = await load(cid$1);\n  let lastCid = cid$1;\n  while (parts.length) {\n    const key = parts.shift();\n    if (!key) {\n      throw errCode__default[\"default\"](new Error(`Could not resolve path \"${ path }\"`), 'ERR_INVALID_PATH');\n    }\n    if (Object.prototype.hasOwnProperty.call(value, key)) {\n      value = value[key];\n      yield {\n        value,\n        remainderPath: parts.join('/')\n      };\n    } else {\n      throw errCode__default[\"default\"](new Error(`no link named \"${ key }\" under ${ lastCid }`), 'ERR_NO_LINK');\n    }\n    const cid$1 = cid.CID.asCID(value);\n    if (cid$1) {\n      lastCid = cid$1;\n      value = await load(value);\n    }\n  }\n  yield {\n    value,\n    remainderPath: ''\n  };\n}\n\nexports.resolve = resolve;\n"]},"metadata":{},"sourceType":"script"}