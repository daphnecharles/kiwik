{"ast":null,"code":"import _regeneratorRuntime from \"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/sam/Desktop/kiwik/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/sam/Desktop/kiwik/packages/react-app/src/components/NetworkDisplay.jsx\";\nimport { Alert, Button } from \"antd\";\nimport React from \"react\";\nimport { NETWORK } from \"../constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction NetworkDisplay(_ref) {\n  var NETWORKCHECK = _ref.NETWORKCHECK,\n      localChainId = _ref.localChainId,\n      selectedChainId = _ref.selectedChainId,\n      targetNetwork = _ref.targetNetwork,\n      USE_NETWORK_SELECTOR = _ref.USE_NETWORK_SELECTOR,\n      logoutOfWeb3Modal = _ref.logoutOfWeb3Modal;\n  var networkDisplay = \"\";\n\n  if (NETWORKCHECK && localChainId && selectedChainId && localChainId !== selectedChainId) {\n    var networkSelected = NETWORK(selectedChainId);\n    var networkLocal = NETWORK(localChainId);\n\n    if (selectedChainId === 1337 && localChainId === 31337) {\n      networkDisplay = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          zIndex: 2,\n          position: \"absolute\",\n          right: 0,\n          top: 60,\n          padding: 16\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          message: \"\\u26A0\\uFE0F Wrong Network ID\",\n          description: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"You have \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"chain id 1337\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 26\n            }, this), \" for localhost and you need to change it to \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"31337\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 90\n            }, this), \" to work with HardHat.\", /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"(MetaMask -> Settings -> Networks -> Chain ID -> 31337)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 15\n          }, this),\n          type: \"error\",\n          closable: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this);\n    } else {\n      networkDisplay = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          zIndex: 2,\n          position: \"absolute\",\n          right: 0,\n          top: 60,\n          padding: 16\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          message: \"\\u26A0\\uFE0F Wrong Network\",\n          description: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"You have \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: networkSelected && networkSelected.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 26\n            }, this), \" selected and you need to be on\", \" \", /*#__PURE__*/_jsxDEV(Button, {\n              onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                var ethereum, data, switchTx;\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        ethereum = window.ethereum;\n                        data = [{\n                          chainId: \"0x\" + targetNetwork.chainId.toString(16),\n                          chainName: targetNetwork.name,\n                          nativeCurrency: targetNetwork.nativeCurrency,\n                          rpcUrls: [targetNetwork.rpcUrl],\n                          blockExplorerUrls: [targetNetwork.blockExplorer]\n                        }];\n                        console.log(\"data\", data);\n                        _context.prev = 3;\n                        _context.next = 6;\n                        return ethereum.request({\n                          method: \"wallet_switchEthereumChain\",\n                          params: [{\n                            chainId: data[0].chainId\n                          }]\n                        });\n\n                      case 6:\n                        switchTx = _context.sent;\n                        _context.next = 19;\n                        break;\n\n                      case 9:\n                        _context.prev = 9;\n                        _context.t0 = _context[\"catch\"](3);\n                        _context.prev = 11;\n                        _context.next = 14;\n                        return ethereum.request({\n                          method: \"wallet_addEthereumChain\",\n                          params: data\n                        });\n\n                      case 14:\n                        switchTx = _context.sent;\n                        _context.next = 19;\n                        break;\n\n                      case 17:\n                        _context.prev = 17;\n                        _context.t1 = _context[\"catch\"](11);\n\n                      case 19:\n                        if (switchTx) {\n                          console.log(switchTx);\n                        }\n\n                      case 20:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, null, [[3, 9], [11, 17]]);\n              })),\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: networkLocal && networkLocal.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this),\n          type: \"error\",\n          closable: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this);\n    }\n  } else {\n    networkDisplay = USE_NETWORK_SELECTOR ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        zIndex: -1,\n        position: \"absolute\",\n        right: 154,\n        top: 28,\n        padding: 16,\n        color: targetNetwork.color\n      },\n      children: targetNetwork.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n\n  console.log({\n    networkDisplay: networkDisplay\n  });\n  return networkDisplay;\n}\n\n_c = NetworkDisplay;\nexport default NetworkDisplay;\n\nvar _c;\n\n$RefreshReg$(_c, \"NetworkDisplay\");","map":{"version":3,"sources":["/Users/sam/Desktop/kiwik/packages/react-app/src/components/NetworkDisplay.jsx"],"names":["Alert","Button","React","NETWORK","NetworkDisplay","NETWORKCHECK","localChainId","selectedChainId","targetNetwork","USE_NETWORK_SELECTOR","logoutOfWeb3Modal","networkDisplay","networkSelected","networkLocal","zIndex","position","right","top","padding","name","ethereum","window","data","chainId","toString","chainName","nativeCurrency","rpcUrls","rpcUrl","blockExplorerUrls","blockExplorer","console","log","request","method","params","switchTx","color"],"mappings":"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","sourcesContent":["import { Alert, Button } from \"antd\";\nimport React from \"react\";\n\nimport { NETWORK } from \"../constants\";\n\nfunction NetworkDisplay({\n  NETWORKCHECK,\n  localChainId,\n  selectedChainId,\n  targetNetwork,\n  USE_NETWORK_SELECTOR,\n  logoutOfWeb3Modal,\n}) {\n  let networkDisplay = \"\";\n  if (NETWORKCHECK && localChainId && selectedChainId && localChainId !== selectedChainId) {\n    const networkSelected = NETWORK(selectedChainId);\n    const networkLocal = NETWORK(localChainId);\n    if (selectedChainId === 1337 && localChainId === 31337) {\n      networkDisplay = (\n        <div style={{ zIndex: 2, position: \"absolute\", right: 0, top: 60, padding: 16 }}>\n          <Alert\n            message=\"⚠️ Wrong Network ID\"\n            description={\n              <div>\n                You have <b>chain id 1337</b> for localhost and you need to change it to <b>31337</b> to work with\n                HardHat.\n                <div>(MetaMask -&gt; Settings -&gt; Networks -&gt; Chain ID -&gt; 31337)</div>\n              </div>\n            }\n            type=\"error\"\n            closable={false}\n          />\n        </div>\n      );\n    } else {\n      networkDisplay = (\n        <div style={{ zIndex: 2, position: \"absolute\", right: 0, top: 60, padding: 16 }}>\n          <Alert\n            message=\"⚠️ Wrong Network\"\n            description={\n              <div>\n                You have <b>{networkSelected && networkSelected.name}</b> selected and you need to be on{\" \"}\n                <Button\n                  onClick={async () => {\n                    const ethereum = window.ethereum;\n                    const data = [\n                      {\n                        chainId: \"0x\" + targetNetwork.chainId.toString(16),\n                        chainName: targetNetwork.name,\n                        nativeCurrency: targetNetwork.nativeCurrency,\n                        rpcUrls: [targetNetwork.rpcUrl],\n                        blockExplorerUrls: [targetNetwork.blockExplorer],\n                      },\n                    ];\n                    console.log(\"data\", data);\n\n                    let switchTx;\n                    // https://docs.metamask.io/guide/rpc-api.html#other-rpc-methods\n                    try {\n                      switchTx = await ethereum.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: data[0].chainId }],\n                      });\n                    } catch (switchError) {\n                      // not checking specific error code, because maybe we're not using MetaMask\n                      try {\n                        switchTx = await ethereum.request({\n                          method: \"wallet_addEthereumChain\",\n                          params: data,\n                        });\n                      } catch (addError) {\n                        // handle \"add\" error\n                      }\n                    }\n\n                    if (switchTx) {\n                      console.log(switchTx);\n                    }\n                  }}\n                >\n                  <b>{networkLocal && networkLocal.name}</b>\n                </Button>\n              </div>\n            }\n            type=\"error\"\n            closable={false}\n          />\n        </div>\n      );\n    }\n  } else {\n    networkDisplay = USE_NETWORK_SELECTOR ? null : (\n      <div style={{ zIndex: -1, position: \"absolute\", right: 154, top: 28, padding: 16, color: targetNetwork.color }}>\n        {targetNetwork.name}\n      </div>\n    );\n  }\n\n  console.log({ networkDisplay });\n\n  return networkDisplay;\n}\n\nexport default NetworkDisplay;\n"]},"metadata":{},"sourceType":"module"}