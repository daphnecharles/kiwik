{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport React from 'react';\n\nvar ExecuteButton = function (_super) {\n  __extends(ExecuteButton, _super);\n\n  function ExecuteButton(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._onClick = function () {\n      if (_this.props.isRunning) {\n        _this.props.onStop();\n      } else {\n        _this.props.onRun();\n      }\n    };\n\n    _this._onOptionSelected = function (operation) {\n      _this.setState({\n        optionsOpen: false\n      });\n\n      _this.props.onRun(operation.name && operation.name.value);\n    };\n\n    _this._onOptionsOpen = function (downEvent) {\n      var initialPress = true;\n      var downTarget = downEvent.currentTarget;\n\n      _this.setState({\n        highlight: null,\n        optionsOpen: true\n      });\n\n      var _onMouseUp = function onMouseUp(upEvent) {\n        var _a;\n\n        if (initialPress && upEvent.target === downTarget) {\n          initialPress = false;\n        } else {\n          document.removeEventListener('mouseup', _onMouseUp);\n          _onMouseUp = null;\n          var isOptionsMenuClicked = upEvent.currentTarget && ((_a = downTarget.parentNode) === null || _a === void 0 ? void 0 : _a.compareDocumentPosition(upEvent.currentTarget)) && Node.DOCUMENT_POSITION_CONTAINED_BY;\n\n          if (!isOptionsMenuClicked) {\n            _this.setState({\n              optionsOpen: false\n            });\n          }\n        }\n      };\n\n      document.addEventListener('mouseup', _onMouseUp);\n    };\n\n    _this.state = {\n      optionsOpen: false,\n      highlight: null\n    };\n    return _this;\n  }\n\n  ExecuteButton.prototype.render = function () {\n    var _this = this;\n\n    var operations = this.props.operations || [];\n    var optionsOpen = this.state.optionsOpen;\n    var hasOptions = operations && operations.length > 1;\n    var options = null;\n\n    if (hasOptions && optionsOpen) {\n      var highlight_1 = this.state.highlight;\n      options = React.createElement(\"ul\", {\n        className: \"execute-options\"\n      }, operations.map(function (operation, i) {\n        var opName = operation.name ? operation.name.value : \"<Unnamed \" + operation.operation + \">\";\n        return React.createElement(\"li\", {\n          key: opName + \"-\" + i,\n          className: operation === highlight_1 ? 'selected' : undefined,\n          onMouseOver: function onMouseOver() {\n            return _this.setState({\n              highlight: operation\n            });\n          },\n          onMouseOut: function onMouseOut() {\n            return _this.setState({\n              highlight: null\n            });\n          },\n          onMouseUp: function onMouseUp() {\n            return _this._onOptionSelected(operation);\n          }\n        }, opName);\n      }));\n    }\n\n    var onClick;\n\n    if (this.props.isRunning || !hasOptions) {\n      onClick = this._onClick;\n    }\n\n    var onMouseDown = function onMouseDown() {};\n\n    if (!this.props.isRunning && hasOptions && !optionsOpen) {\n      onMouseDown = this._onOptionsOpen;\n    }\n\n    var pathJSX = this.props.isRunning ? React.createElement(\"path\", {\n      d: \"M 10 10 L 23 10 L 23 23 L 10 23 z\"\n    }) : React.createElement(\"path\", {\n      d: \"M 11 9 L 24 16 L 11 23 z\"\n    });\n    return React.createElement(\"div\", {\n      className: \"execute-button-wrap\"\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"execute-button\",\n      onMouseDown: onMouseDown,\n      onClick: onClick,\n      title: \"Execute Query (Ctrl-Enter)\"\n    }, React.createElement(\"svg\", {\n      width: \"34\",\n      height: \"34\"\n    }, pathJSX)), options);\n  };\n\n  return ExecuteButton;\n}(React.Component);\n\nexport { ExecuteButton };","map":{"version":3,"sources":["../../src/components/ExecuteButton.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,OAAO,KAAP,MAAyC,OAAzC;;AAsBA,IAAA,aAAA,GAAA,UAAA,MAAA,EAAA;AAAmC,EAAA,SAAA,CAAA,aAAA,EAAA,MAAA,CAAA;;AAIjC,WAAA,aAAA,CAAY,KAAZ,EAAqC;AAArC,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;;AA2EA,IAAA,KAAA,CAAA,QAAA,GAAW,YAAA;AACT,UAAI,KAAI,CAAC,KAAL,CAAW,SAAf,EAA0B;AACxB,QAAA,KAAI,CAAC,KAAL,CAAW,MAAX;AACD,OAFD,MAEO;AACL,QAAA,KAAI,CAAC,KAAL,CAAW,KAAX;AACD;AACF,KAND;;AAQA,IAAA,KAAA,CAAA,iBAAA,GAAoB,UAAC,SAAD,EAAmC;AACrD,MAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,WAAW,EAAE;AAAf,OAAd;;AACA,MAAA,KAAI,CAAC,KAAL,CAAW,KAAX,CAAiB,SAAS,CAAC,IAAV,IAAkB,SAAS,CAAC,IAAV,CAAe,KAAlD;AACD,KAHD;;AAKA,IAAA,KAAA,CAAA,cAAA,GAAuD,UAAA,SAAA,EAAS;AAC9D,UAAI,YAAY,GAAG,IAAnB;AACA,UAAM,UAAU,GAAG,SAAS,CAAC,aAA7B;;AACA,MAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,SAAS,EAAE,IAAb;AAAmB,QAAA,WAAW,EAAE;AAAhC,OAAd;;AAGA,UAAI,UAAS,GAA+B,mBAAA,OAAA,EAAO;;;AACjD,YAAI,YAAY,IAAI,OAAO,CAAC,MAAR,KAAmB,UAAvC,EAAmD;AACjD,UAAA,YAAY,GAAG,KAAf;AACD,SAFD,MAEO;AACL,UAAA,QAAQ,CAAC,mBAAT,CAA6B,SAA7B,EAAwC,UAAxC;AACA,UAAA,UAAS,GAAG,IAAZ;AACA,cAAM,oBAAoB,GACxB,OAAO,CAAC,aAAR,KAAqB,CAAA,EAAA,GACrB,UAAU,CAAC,UADU,MACA,IADA,IACA,EAAA,KAAA,KAAA,CADA,GACA,KAAA,CADA,GACA,EAAA,CAAE,uBAAF,CACnB,OAAO,CAAC,aADW,CADrB,KAIA,IAAI,CAAC,8BALP;;AAMA,cAAI,CAAC,oBAAL,EAA2B;AAEzB,YAAA,KAAI,CAAC,QAAL,CAAc;AAAE,cAAA,WAAW,EAAE;AAAf,aAAd;AACD;AACF;AACF,OAjBD;;AAmBA,MAAA,QAAQ,CAAC,gBAAT,CAA0B,SAA1B,EAAqC,UAArC;AACD,KA1BD;;AArFE,IAAA,KAAI,CAAC,KAAL,GAAa;AACX,MAAA,WAAW,EAAE,KADF;AAEX,MAAA,SAAS,EAAE;AAFA,KAAb;;AAID;;AAED,EAAA,aAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,QAAM,UAAU,GAAG,KAAK,KAAL,CAAW,UAAX,IAAyB,EAA5C;AACA,QAAM,WAAW,GAAG,KAAK,KAAL,CAAW,WAA/B;AACA,QAAM,UAAU,GAAG,UAAU,IAAI,UAAU,CAAC,MAAX,GAAoB,CAArD;AAEA,QAAI,OAAO,GAAG,IAAd;;AACA,QAAI,UAAU,IAAI,WAAlB,EAA+B;AAC7B,UAAM,WAAS,GAAG,KAAK,KAAL,CAAW,SAA7B;AACA,MAAA,OAAO,GACL,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AAAI,QAAA,SAAS,EAAC;AAAd,OAAA,EACG,UAAU,CAAC,GAAX,CAAe,UAAC,SAAD,EAAY,CAAZ,EAAa;AAC3B,YAAM,MAAM,GAAG,SAAS,CAAC,IAAV,GACX,SAAS,CAAC,IAAV,CAAe,KADJ,GAEX,cAAY,SAAS,CAAC,SAAtB,GAA+B,GAFnC;AAGA,eACE,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AACE,UAAA,GAAG,EAAK,MAAM,GAAA,GAAN,GAAU,CADpB;AAEE,UAAA,SAAS,EAAE,SAAS,KAAK,WAAd,GAA0B,UAA1B,GAAuC,SAFpD;AAGE,UAAA,WAAW,EAAE,uBAAA;AAAM,mBAAA,KAAI,CAAC,QAAL,CAAc;AAAE,cAAA,SAAS,EAAzB;AAAc,aAAd,CAAA;AAAuC,WAH5D;AAIE,UAAA,UAAU,EAAE,sBAAA;AAAM,mBAAA,KAAI,CAAC,QAAL,CAAc;AAAE,cAAA,SAAS,EAAzB;AAAc,aAAd,CAAA;AAAkC,WAJtD;AAKE,UAAA,SAAS,EAAE,qBAAA;AAAM,mBAAA,KAAI,CAAC,iBAAL,CAAA,SAAA,CAAA;AAAiC;AALpD,SAAA,EAMG,MANH,CADF;AAUD,OAdA,CADH,CADF;AAmBD;;AAID,QAAI,OAAJ;;AACA,QAAI,KAAK,KAAL,CAAW,SAAX,IAAwB,CAAC,UAA7B,EAAyC;AACvC,MAAA,OAAO,GAAG,KAAK,QAAf;AACD;;AAID,QAAI,WAAW,GAAyC,uBAAA,CAAQ,CAAhE;;AACA,QAAI,CAAC,KAAK,KAAL,CAAW,SAAZ,IAAyB,UAAzB,IAAuC,CAAC,WAA5C,EAAyD;AACvD,MAAA,WAAW,GAAG,KAAK,cAAnB;AACD;;AAED,QAAM,OAAO,GAAG,KAAK,KAAL,CAAW,SAAX,GACd,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAC;AAAR,KAAA,CADc,GAGd,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,MAAA,CAAC,EAAC;AAAR,KAAA,CAHF;AAMA,WACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC;AAAf,KAAA,EACE,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,SAAS,EAAC,gBAFZ;AAGE,MAAA,WAAW,EAAE,WAHf;AAIE,MAAA,OAAO,EAAE,OAJX;AAKE,MAAA,KAAK,EAAC;AALR,KAAA,EAME,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,KAAK,EAAC,IAAX;AAAgB,MAAA,MAAM,EAAC;AAAvB,KAAA,EACG,OADH,CANF,CADF,EAWG,OAXH,CADF;AAeD,GAhED;;AA0GF,SAAA,aAAA;AAAC,CAvHD,CAAmC,KAAK,CAAC,SAAzC,CAAA","sourceRoot":"","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React from 'react';\nvar ExecuteButton = (function (_super) {\n    __extends(ExecuteButton, _super);\n    function ExecuteButton(props) {\n        var _this = _super.call(this, props) || this;\n        _this._onClick = function () {\n            if (_this.props.isRunning) {\n                _this.props.onStop();\n            }\n            else {\n                _this.props.onRun();\n            }\n        };\n        _this._onOptionSelected = function (operation) {\n            _this.setState({ optionsOpen: false });\n            _this.props.onRun(operation.name && operation.name.value);\n        };\n        _this._onOptionsOpen = function (downEvent) {\n            var initialPress = true;\n            var downTarget = downEvent.currentTarget;\n            _this.setState({ highlight: null, optionsOpen: true });\n            var onMouseUp = function (upEvent) {\n                var _a;\n                if (initialPress && upEvent.target === downTarget) {\n                    initialPress = false;\n                }\n                else {\n                    document.removeEventListener('mouseup', onMouseUp);\n                    onMouseUp = null;\n                    var isOptionsMenuClicked = upEvent.currentTarget && ((_a = downTarget.parentNode) === null || _a === void 0 ? void 0 : _a.compareDocumentPosition(upEvent.currentTarget)) &&\n                        Node.DOCUMENT_POSITION_CONTAINED_BY;\n                    if (!isOptionsMenuClicked) {\n                        _this.setState({ optionsOpen: false });\n                    }\n                }\n            };\n            document.addEventListener('mouseup', onMouseUp);\n        };\n        _this.state = {\n            optionsOpen: false,\n            highlight: null,\n        };\n        return _this;\n    }\n    ExecuteButton.prototype.render = function () {\n        var _this = this;\n        var operations = this.props.operations || [];\n        var optionsOpen = this.state.optionsOpen;\n        var hasOptions = operations && operations.length > 1;\n        var options = null;\n        if (hasOptions && optionsOpen) {\n            var highlight_1 = this.state.highlight;\n            options = (React.createElement(\"ul\", { className: \"execute-options\" }, operations.map(function (operation, i) {\n                var opName = operation.name\n                    ? operation.name.value\n                    : \"<Unnamed \" + operation.operation + \">\";\n                return (React.createElement(\"li\", { key: opName + \"-\" + i, className: operation === highlight_1 ? 'selected' : undefined, onMouseOver: function () { return _this.setState({ highlight: operation }); }, onMouseOut: function () { return _this.setState({ highlight: null }); }, onMouseUp: function () { return _this._onOptionSelected(operation); } }, opName));\n            })));\n        }\n        var onClick;\n        if (this.props.isRunning || !hasOptions) {\n            onClick = this._onClick;\n        }\n        var onMouseDown = function () { };\n        if (!this.props.isRunning && hasOptions && !optionsOpen) {\n            onMouseDown = this._onOptionsOpen;\n        }\n        var pathJSX = this.props.isRunning ? (React.createElement(\"path\", { d: \"M 10 10 L 23 10 L 23 23 L 10 23 z\" })) : (React.createElement(\"path\", { d: \"M 11 9 L 24 16 L 11 23 z\" }));\n        return (React.createElement(\"div\", { className: \"execute-button-wrap\" },\n            React.createElement(\"button\", { type: \"button\", className: \"execute-button\", onMouseDown: onMouseDown, onClick: onClick, title: \"Execute Query (Ctrl-Enter)\" },\n                React.createElement(\"svg\", { width: \"34\", height: \"34\" }, pathJSX)),\n            options));\n    };\n    return ExecuteButton;\n}(React.Component));\nexport { ExecuteButton };\n//# sourceMappingURL=ExecuteButton.js.map"]},"metadata":{},"sourceType":"module"}