{"ast":null,"code":"'use strict';\n\nvar processFn = function processFn(fn, opts) {\n  return function () {\n    var _this = this;\n\n    var P = opts.promiseModule;\n    var args = new Array(arguments.length);\n\n    for (var i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    return new P(function (resolve, reject) {\n      if (opts.errorFirst) {\n        args.push(function (err, result) {\n          if (opts.multiArgs) {\n            var results = new Array(arguments.length - 1);\n\n            for (var _i = 1; _i < arguments.length; _i++) {\n              results[_i - 1] = arguments[_i];\n            }\n\n            if (err) {\n              results.unshift(err);\n              reject(results);\n            } else {\n              resolve(results);\n            }\n          } else if (err) {\n            reject(err);\n          } else {\n            resolve(result);\n          }\n        });\n      } else {\n        args.push(function (result) {\n          if (opts.multiArgs) {\n            var results = new Array(arguments.length - 1);\n\n            for (var _i2 = 0; _i2 < arguments.length; _i2++) {\n              results[_i2] = arguments[_i2];\n            }\n\n            resolve(results);\n          } else {\n            resolve(result);\n          }\n        });\n      }\n\n      fn.apply(_this, args);\n    });\n  };\n};\n\nmodule.exports = function (obj, opts) {\n  opts = Object.assign({\n    exclude: [/.+(Sync|Stream)$/],\n    errorFirst: true,\n    promiseModule: Promise\n  }, opts);\n\n  var filter = function filter(key) {\n    var match = function match(pattern) {\n      return typeof pattern === 'string' ? key === pattern : pattern.test(key);\n    };\n\n    return opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n  };\n\n  var ret;\n\n  if (typeof obj === 'function') {\n    ret = function ret() {\n      if (opts.excludeMain) {\n        return obj.apply(this, arguments);\n      }\n\n      return processFn(obj, opts).apply(this, arguments);\n    };\n  } else {\n    ret = Object.create(Object.getPrototypeOf(obj));\n  }\n\n  for (var key in obj) {\n    // eslint-disable-line guard-for-in\n    var x = obj[key];\n    ret[key] = typeof x === 'function' && filter(key) ? processFn(x, opts) : x;\n  }\n\n  return ret;\n};","map":{"version":3,"sources":["/Users/sam/Desktop/kiwik/node_modules/pify/index.js"],"names":["processFn","fn","opts","P","promiseModule","args","Array","arguments","length","i","resolve","reject","errorFirst","push","err","result","multiArgs","results","unshift","apply","module","exports","obj","Object","assign","exclude","Promise","filter","key","match","pattern","test","include","some","ret","excludeMain","create","getPrototypeOf","x"],"mappings":"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","sourcesContent":["'use strict';\n\nconst processFn = (fn, opts) => function () {\n\tconst P = opts.promiseModule;\n\tconst args = new Array(arguments.length);\n\n\tfor (let i = 0; i < arguments.length; i++) {\n\t\targs[i] = arguments[i];\n\t}\n\n\treturn new P((resolve, reject) => {\n\t\tif (opts.errorFirst) {\n\t\t\targs.push(function (err, result) {\n\t\t\t\tif (opts.multiArgs) {\n\t\t\t\t\tconst results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i - 1] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tresults.unshift(err);\n\t\t\t\t\t\treject(results);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(results);\n\t\t\t\t\t}\n\t\t\t\t} else if (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\targs.push(function (result) {\n\t\t\t\tif (opts.multiArgs) {\n\t\t\t\t\tconst results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(results);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfn.apply(this, args);\n\t});\n};\n\nmodule.exports = (obj, opts) => {\n\topts = Object.assign({\n\t\texclude: [/.+(Sync|Stream)$/],\n\t\terrorFirst: true,\n\t\tpromiseModule: Promise\n\t}, opts);\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\treturn opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n\t};\n\n\tlet ret;\n\tif (typeof obj === 'function') {\n\t\tret = function () {\n\t\t\tif (opts.excludeMain) {\n\t\t\t\treturn obj.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn processFn(obj, opts).apply(this, arguments);\n\t\t};\n\t} else {\n\t\tret = Object.create(Object.getPrototypeOf(obj));\n\t}\n\n\tfor (const key in obj) { // eslint-disable-line guard-for-in\n\t\tconst x = obj[key];\n\t\tret[key] = typeof x === 'function' && filter(key) ? processFn(x, opts) : x;\n\t}\n\n\treturn ret;\n};\n"]},"metadata":{},"sourceType":"script"}