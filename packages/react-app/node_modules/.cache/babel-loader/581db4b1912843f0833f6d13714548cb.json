{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar token = require('./token.js');\n\nvar common = require('./common.js');\n\nvar _0uint = require('./0uint.js');\n\nvar byteUtils = require('./byte-utils.js');\n\nfunction toToken(data, pos, prefix, length) {\n  common.assertEnoughData(data, pos, prefix + length);\n  var buf = byteUtils.slice(data, pos + prefix, pos + prefix + length);\n  return new token.Token(token.Type.bytes, buf, prefix + length);\n}\n\nfunction decodeBytesCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\n\nfunction decodeBytes8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, _0uint.readUint8(data, pos + 1, options));\n}\n\nfunction decodeBytes16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, _0uint.readUint16(data, pos + 1, options));\n}\n\nfunction decodeBytes32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, _0uint.readUint32(data, pos + 1, options));\n}\n\nfunction decodeBytes64(data, pos, _minor, options) {\n  var l = _0uint.readUint64(data, pos + 1, options);\n\n  if (typeof l === 'bigint') {\n    throw new Error(\"\".concat(common.decodeErrPrefix, \" 64-bit integer bytes lengths not supported\"));\n  }\n\n  return toToken(data, pos, 9, l);\n}\n\nfunction tokenBytes(token$1) {\n  if (token$1.encodedBytes === undefined) {\n    token$1.encodedBytes = token$1.type === token.Type.string ? byteUtils.fromString(token$1.value) : token$1.value;\n  }\n\n  return token$1.encodedBytes;\n}\n\nfunction encodeBytes(buf, token) {\n  var bytes = tokenBytes(token);\n\n  _0uint.encodeUintValue(buf, token.type.majorEncoded, bytes.length);\n\n  buf.push(bytes);\n}\n\nencodeBytes.encodedSize = function encodedSize(token) {\n  var bytes = tokenBytes(token);\n  return _0uint.encodeUintValue.encodedSize(bytes.length) + bytes.length;\n};\n\nencodeBytes.compareTokens = function compareTokens(tok1, tok2) {\n  return compareBytes(tokenBytes(tok1), tokenBytes(tok2));\n};\n\nfunction compareBytes(b1, b2) {\n  return b1.length < b2.length ? -1 : b1.length > b2.length ? 1 : byteUtils.compare(b1, b2);\n}\n\nexports.compareBytes = compareBytes;\nexports.decodeBytes16 = decodeBytes16;\nexports.decodeBytes32 = decodeBytes32;\nexports.decodeBytes64 = decodeBytes64;\nexports.decodeBytes8 = decodeBytes8;\nexports.decodeBytesCompact = decodeBytesCompact;\nexports.encodeBytes = encodeBytes;","map":{"version":3,"sources":["/Users/sam/Desktop/kiwik/node_modules/cborg/cjs/lib/2bytes.js"],"names":["Object","defineProperty","exports","value","token","require","common","_0uint","byteUtils","toToken","data","pos","prefix","length","assertEnoughData","buf","slice","Token","Type","bytes","decodeBytesCompact","minor","_options","decodeBytes8","_minor","options","readUint8","decodeBytes16","readUint16","decodeBytes32","readUint32","decodeBytes64","l","readUint64","Error","decodeErrPrefix","tokenBytes","token$1","encodedBytes","undefined","type","string","fromString","encodeBytes","encodeUintValue","majorEncoded","push","encodedSize","compareTokens","tok1","tok2","compareBytes","b1","b2","compare"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar token = require('./token.js');\nvar common = require('./common.js');\nvar _0uint = require('./0uint.js');\nvar byteUtils = require('./byte-utils.js');\n\nfunction toToken(data, pos, prefix, length) {\n  common.assertEnoughData(data, pos, prefix + length);\n  const buf = byteUtils.slice(data, pos + prefix, pos + prefix + length);\n  return new token.Token(token.Type.bytes, buf, prefix + length);\n}\nfunction decodeBytesCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nfunction decodeBytes8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, _0uint.readUint8(data, pos + 1, options));\n}\nfunction decodeBytes16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, _0uint.readUint16(data, pos + 1, options));\n}\nfunction decodeBytes32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, _0uint.readUint32(data, pos + 1, options));\n}\nfunction decodeBytes64(data, pos, _minor, options) {\n  const l = _0uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ common.decodeErrPrefix } 64-bit integer bytes lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nfunction tokenBytes(token$1) {\n  if (token$1.encodedBytes === undefined) {\n    token$1.encodedBytes = token$1.type === token.Type.string ? byteUtils.fromString(token$1.value) : token$1.value;\n  }\n  return token$1.encodedBytes;\n}\nfunction encodeBytes(buf, token) {\n  const bytes = tokenBytes(token);\n  _0uint.encodeUintValue(buf, token.type.majorEncoded, bytes.length);\n  buf.push(bytes);\n}\nencodeBytes.encodedSize = function encodedSize(token) {\n  const bytes = tokenBytes(token);\n  return _0uint.encodeUintValue.encodedSize(bytes.length) + bytes.length;\n};\nencodeBytes.compareTokens = function compareTokens(tok1, tok2) {\n  return compareBytes(tokenBytes(tok1), tokenBytes(tok2));\n};\nfunction compareBytes(b1, b2) {\n  return b1.length < b2.length ? -1 : b1.length > b2.length ? 1 : byteUtils.compare(b1, b2);\n}\n\nexports.compareBytes = compareBytes;\nexports.decodeBytes16 = decodeBytes16;\nexports.decodeBytes32 = decodeBytes32;\nexports.decodeBytes64 = decodeBytes64;\nexports.decodeBytes8 = decodeBytes8;\nexports.decodeBytesCompact = decodeBytesCompact;\nexports.encodeBytes = encodeBytes;\n"]},"metadata":{},"sourceType":"script"}