{"ast":null,"code":"import { specifiedRules, validate, NoUnusedFragmentsRule, KnownFragmentNamesRule, Kind, ExecutableDefinitionsRule } from 'graphql';\nexport function validateWithCustomRules(schema, ast, customRules, isRelayCompatMode) {\n  var rules = specifiedRules.filter(function (rule) {\n    if (rule === NoUnusedFragmentsRule || rule === ExecutableDefinitionsRule) {\n      return false;\n    }\n\n    if (isRelayCompatMode && rule === KnownFragmentNamesRule) {\n      return false;\n    }\n\n    return true;\n  });\n\n  if (customRules) {\n    Array.prototype.push.apply(rules, customRules);\n  }\n\n  var errors = validate(schema, ast, rules);\n  return errors.filter(function (error) {\n    if (error.message.indexOf('Unknown directive') !== -1 && error.nodes) {\n      var node = error.nodes[0];\n\n      if (node && node.kind === Kind.DIRECTIVE) {\n        var name = node.name.value;\n\n        if (name === 'arguments' || name === 'argumentDefinitions') {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  });\n}","map":{"version":3,"sources":["../src/validateWithCustomRules.ts"],"names":[],"mappings":"AASA,SAGE,cAHF,EAIE,QAJF,EAOE,qBAPF,EAQE,sBARF,EASE,IATF,EAUE,yBAVF,QAWO,SAXP;AAgBA,OAAM,SAAU,uBAAV,CACJ,MADI,EAEJ,GAFI,EAGJ,WAHI,EAIJ,iBAJI,EAIuB;AAE3B,MAAM,KAAK,GAAG,cAAc,CAAC,MAAf,CAAsB,UAAA,IAAI,EAAG;AAIzC,QAAI,IAAI,KAAK,qBAAT,IAAkC,IAAI,KAAK,yBAA/C,EAA0E;AACxE,aAAO,KAAP;AACD;;AACD,QAAI,iBAAiB,IAAI,IAAI,KAAK,sBAAlC,EAA0D;AACxD,aAAO,KAAP;AACD;;AACD,WAAO,IAAP;AACD,GAXa,CAAd;;AAaA,MAAI,WAAJ,EAAiB;AACf,IAAA,KAAK,CAAC,SAAN,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,KAA3B,EAAkC,WAAlC;AACD;;AAED,MAAM,MAAM,GAAG,QAAQ,CAAC,MAAD,EAAS,GAAT,EAAc,KAAd,CAAvB;AACA,SAAO,MAAM,CAAC,MAAP,CAAc,UAAA,KAAK,EAAG;AAC3B,QAAI,KAAK,CAAC,OAAN,CAAc,OAAd,CAAsB,mBAAtB,MAA+C,CAAC,CAAhD,IAAqD,KAAK,CAAC,KAA/D,EAAsE;AACpE,UAAM,IAAI,GAAG,KAAK,CAAC,KAAN,CAAY,CAAZ,CAAb;;AACA,UAAI,IAAI,IAAI,IAAI,CAAC,IAAL,KAAc,IAAI,CAAC,SAA/B,EAA0C;AACxC,YAAM,IAAI,GAAG,IAAI,CAAC,IAAL,CAAU,KAAvB;;AACA,YAAI,IAAI,KAAK,WAAT,IAAwB,IAAI,KAAK,qBAArC,EAA4D;AAC1D,iBAAO,KAAP;AACD;AACF;AACF;;AACD,WAAO,IAAP;AACD,GAXM,CAAP;AAYD","sourceRoot":"","sourcesContent":["import { specifiedRules, validate, NoUnusedFragmentsRule, KnownFragmentNamesRule, Kind, ExecutableDefinitionsRule, } from 'graphql';\nexport function validateWithCustomRules(schema, ast, customRules, isRelayCompatMode) {\n    const rules = specifiedRules.filter(rule => {\n        if (rule === NoUnusedFragmentsRule || rule === ExecutableDefinitionsRule) {\n            return false;\n        }\n        if (isRelayCompatMode && rule === KnownFragmentNamesRule) {\n            return false;\n        }\n        return true;\n    });\n    if (customRules) {\n        Array.prototype.push.apply(rules, customRules);\n    }\n    const errors = validate(schema, ast, rules);\n    return errors.filter(error => {\n        if (error.message.indexOf('Unknown directive') !== -1 && error.nodes) {\n            const node = error.nodes[0];\n            if (node && node.kind === Kind.DIRECTIVE) {\n                const name = node.name.value;\n                if (name === 'arguments' || name === 'argumentDefinitions') {\n                    return false;\n                }\n            }\n        }\n        return true;\n    });\n}\n//# sourceMappingURL=validateWithCustomRules.js.map"]},"metadata":{},"sourceType":"module"}